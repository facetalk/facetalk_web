!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():this[e]=t()}("Storage",function(){var e,t=window.JSON&&window.JSON.stringify&&window.JSON.parse?window.JSON:{stringify:function(e){return e},parse:function(e){return e}},r=function(){var e;try{var r,e,i=new ActiveXObject("htmlfile");i.open(),i.write('<iframe src="/favicon.ico"></iframe>'),i.close(),r=i.frames[0].document,e=r.createElement("div"),r.appendChild(e),e.addBehavior("#default#userData")}catch(n){}return{get:function(r){var i;e.load(r),i=e.getAttribute(r);try{i=t.parse(i)}catch(n){}return i},set:function(r,i,n){if(n){var o=new Date;o.setTime(o.getTime()+1e3*n),e.expires=o.toUTCString()}e.setAttribute(r,t.stringify(i)),e.save(r)},remove:function(t){e.removeAttribute(t),e.save(t)}}},i=function(){var e=(new Date).getTime();for(key in localStorage){var r=localStorage.getItem(key);try{r=t.parse(r)}catch(i){}if(Object.prototype.toString.call(r).toLowerCase().indexOf("array")>0){var n=r[0].expires;n&&/^\d{13,}$/.test(n)&&e>=n&&localStorage.removeItem(key)}}return{get:function(e){var r=localStorage.getItem(e);if(!r)return null;try{r=t.parse(r)}catch(i){}if("object"!=typeof r)return r;var n=r[0].expires;if(n&&/^\d{13,}$/.test(n)){var o=(new Date).getTime();if(o>=n)return localStorage.removeItem(e),null;r.shift()}return r[0]},set:function(e,r,i){var n=[];if(i){var o=(new Date).getTime();n.push({expires:o+1e3*i})}n.push(r),localStorage.setItem(e,t.stringify(n))},remove:function(e){localStorage.removeItem(e)}}},n={get:function(e){var r,i=document.cookie,n=i.indexOf(e+"="),o=i.indexOf(";",n);if(-1==o&&(o=i.length),n>-1){r=i.substring(n+e.length+1,o);try{r=t.parse(r)}catch(a){}return r}return null},set:function(e,r,i,n,o){var n=n||"/",a="";if(i)if(window.ActiveXObject){var c=new Date;c.setTime(c.getTime()+1e3*i),a="expires="+c.toGMTString()}else a="max-age="+i;document.cookie=e+"="+t.stringify(r)+";"+a+";path="+n+";"+(o?"domain="+o:"")},remove:function(e,t,r){this.set(e,"",-1,t,r)}};return e=window.localStorage?i():r(),{get:e.get,set:e.set,remove:e.remove,cookie:n}});